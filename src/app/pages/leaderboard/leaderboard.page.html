<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Leaderboard</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container">
    <h1>Global Rankings</h1>

    <div *ngIf="entries.length === 0" class="leaderboard-empty">
      <!-- Section Header -->
      <div class="empty-state-section-header">GLOBAL RANKINGS</div>

      <!-- Top Divider -->
      <div class="empty-state-divider"></div>

      <!-- Main Icon -->
      <div class="empty-state-icon">üèÜ</div>

      <!-- Headline -->
      <h2 class="empty-state-headline">Accept the Challenge!</h2>

      <!-- Description -->
      <p class="empty-state-subheading">
        Be the pioneer. Compete now to establish the first ranking on the global leaderboard and earn your place in history.
      </p>

      <!-- Action Buttons -->
      <div class="empty-state-buttons">
        <ion-button class="btn-compete" (click)="navigateToCompete()">
          <span class="btn-icon">‚ñ∂</span>
          Compete Now
        </ion-button>
        <ion-button class="btn-rules" fill="outline" (click)="navigateToAbout()">
          <span class="btn-icon">üìñ</span>
          View Rules
        </ion-button>
      </div>

      <!-- Bottom Divider -->
      <div class="empty-state-divider"></div>

      <!-- Tier Preview Section -->
      <div class="tier-preview-container">
        <div class="tier-preview-title">RANK TIERS</div>
        <div class="tier-preview-subtitle">Start Your Journey</div>

        <div class="tier-list">
          <div class="tier-item">
            <div class="tier-badge">ü•á</div>
            <div class="tier-info">
              <div class="tier-name">Signals Master</div>
              <div class="tier-description">The elite rank for competition champions</div>
            </div>
          </div>

          <div class="tier-item">
            <div class="tier-badge">ü•à</div>
            <div class="tier-info">
              <div class="tier-name">Top Signaller</div>
              <div class="tier-description">Recognition for consistent excellence</div>
            </div>
          </div>

          <div class="tier-item">
            <div class="tier-badge">üåü</div>
            <div class="tier-info">
              <div class="tier-name">Rising Star</div>
              <div class="tier-description">Developing your competitive skills</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="entries.length > 0" class="leaderboard-grid">
      <!-- Unified Card Structure for All Ranks -->
      <div *ngFor="let entry of entries"
           class="leaderboard-card"
           [ngClass]="[getTierClass(entry.rank), getTopBorderClass(entry.rank), isCurrentUser(entry.username) ? 'current-user' : '']">

        <!-- Header Row: Badge + Username + Rating -->
        <div class="card-header">
          <div class="user-info">
            <span class="badge">{{ getTierBadge(entry.rank) }}</span>
            <span class="username">{{ entry.username }}</span>
            <span *ngIf="isCurrentUser(entry.username)" class="you-badge">YOU</span>
          </div>
          <div class="rating">
            <span class="rating-value">{{ entry.rating }}</span>
            <span class="rating-label">RATING</span>
          </div>
        </div>

        <!-- Rank Achievement Label -->
        <div class="rank-label">
          {{ getTierLabel(entry.rank) }}
        </div>

        <!-- Inline Stats Row -->
        <div class="stats-row">
          <span class="stat-item">{{ entry.correctAnswers }}/{{ entry.totalQuestions }} Correct</span>
          <span class="stat-divider">‚Ä¢</span>
          <span class="stat-item">{{ entry.accuracy.toFixed(1) }}% Accuracy</span>
          <span class="stat-divider">‚Ä¢</span>
          <span class="stat-item">{{ formatTime(entry.totalTime) }}</span>
        </div>
      </div>
    </div>
  </div>
</ion-content>
